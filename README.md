# 1型发作性睡病临床特征预测模型

基于Logistic回归方程的预测模型交互界面，支持问卷和简要两种信息输入途径。

## 功能特点

- 📝 **问卷模式**：通过详细的问卷收集信息
- 📋 **简要模式**：快速输入关键信息
- 📊 **实时计算**：自动计算Logit值和p值
- 🎯 **智能诊断**：基于p值阈值（默认0.905）输出诊断结果

## 安装依赖

```bash
pip install -r requirements.txt
```

## 运行应用

```bash
streamlit run app.py
```

应用将在浏览器中自动打开，默认地址为 `http://localhost:8501`

## 使用方法

1. **选择输入模式**：在侧边栏选择"问卷"或"简要"模式
2. **填写信息**：根据选择的模式填写相应信息
4. **计算结果**：点击"计算预测结果"按钮
3. **查看结果**：查看Logit值、P值和诊断结果

## 诊断规则

- 当 p值 ≥ 阈值（0.855）时，输出"诊断"
- 当 p值 < 阈值时，输出"不诊断"

## 项目结构

```
logistic_prediction/
├── app.py              # Streamlit主程序
├── model.py            # Logistic回归模型核心逻辑
├── requirements.txt    # Python依赖包
└── README.md          # 项目说明文档
```

## 模型变量

模型包含以下9个特征变量（按顺序）：

1. **猝倒** (有=1, 无=0)
2. **打鼾** (有=1, 无=0)
3. **性格变化** (有=1, 无=0)
4. **幻觉** (有=1, 无=0)
5. **遗尿** (有=1, 无=0)
6. **性别** (女=1, 男=0)
7. **嗜睡家族史** (有=1, 无=0)
8. **睡瘫** (有=1, 无=0)
9. **年龄** (岁，连续变量)

**截距**: -0.930

**猝倒定义**：当以下3个问题中有≥2项回答“是”，则判定为“有猝倒”：
- 情绪激动时，腿部无力或膝盖弯曲欲跌倒
- 情绪激动时，下巴松垂或下垂
- 情绪激动时，头或肩突然无力往下掉


## 注意事项

- 模型已使用真实训练数据得到的系数
- 所有二分类变量：0表示"无"或"男"，1表示"有"或"性别为女"
- 年龄为连续变量，单位为岁
- 诊断阈值默认设置为0.855，可在界面中调整

